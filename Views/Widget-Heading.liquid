{% assign id = text | slugify %}
{% assign cssClasses = "heading" %}
{% assign level = Model.ContentItem.Content.Heading.Level.Text %}
{% assign visualLevel = Model.ContentItem.Content.Heading.VisualLevel.Text %}
{% assign text = Model.ContentItem.Content.Heading.Text.Text %}

{% if Model.ContentItem.Content.HtmlAttributesPart != null %}
    {% assign id = Model.ContentItem.Content.HtmlAttributesPart.Id %}
    {% assign cssClasses = cssClasses | append: " " | append: Model.ContentItem.Content.HtmlAttributesPart.CssClasses %}
{% endif %}

{% if visualLevel != nil %}
    {% assign cssClasses = cssClasses | append: " text--h" | append: visualLevel %}
{% endif %}

<h{{ level }} {% if id != null %} id="{{ id }}" {% endif %} class="{{ cssClasses }} {{ Model.ContentItem | animation_css }}" style="{{ Model.ContentItem | animation_styles }}" {{ Model.ContentItem | animation_data_attributes }}>
    {{ text }}
</h{{ level }}>